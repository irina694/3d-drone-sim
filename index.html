<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <style>
        body {
            background-color: white;
            padding: 5%;
            width: 90%;
            min-width: 90%;
            float: left;
            margin: auto;
            text-align: left;
            font-weight: 300;
            font-family: 'Open Sans', sans-serif;
            color: #121212;
        }

        div.padded {
            padding-top: 0px;
            padding-right: 10%;
            padding-bottom: 0.5em;
            padding-left: 10%;
        }

        .emphasis {
            text-decoration: underline;
        }


        h1, h2, h3, h4 {
            font-family: 'Source Sans Pro', sans-serif;
        }

        kbd {
            color: #121212;
        }
    </style>
    <title>CS 284A: 3D Drone Simulation</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro" rel="stylesheet">

    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
        };
    </script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>
</head>

<body>

<br />
<h1 align="middle">CS 184/284A: 3D Drone Simulation</h1>
<h2 align="middle">Final Project</h2>
<h3 align="middle">Website URL: <a href="https://irina694.github.io/3d-drone-sim/proposal">https://irina694.github.io/3d-drone-sim/proposal/</a>
</h3>
<h4 align="middle"><a href="https://irina694.github.io/3d-drone-sim/">3D drone Simulatio</a></h4>



<div class="padded">
    <h3 align="middle">Realistic 3D Drone Simulation with Path Planning in Unreal Engine 5</h3>
</div>

<div class="padded">
    <h2 align="middle">Summary</h2>

    A 3D drone flight simulator incorporating open-source data (Google Earth) to path plan in realistic world scenarios. The simulation demo will be built in a free game engine Unreal Engine. For the purposes of this project, we will focus on 1 scenario and spend time comparing different path-planning algorithms to select the best path and add realism to the simulation such as constraints on where the drone can fly (for example, stay within the drone air space and don’t fly too close to buildings). The output would be a video of the virtual camera either following the drone path or on the drone itself that shows a realistic simulated 3D world and path planned around obstacles through certain points in space.

</div>

<div class="padded">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/RWZuf3_bPjQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
</div>

<div class="padded">
    Technical details of the project and our implementation are in the <a href="" target="_blank">paper</a>.
</div>

<div class="padded">
    <h2 align="middle">Team Members</h2>
    <p>
    <ul>
        <li>Irina Hallinan (284) <a href="mailto:irina_hallinan@berkeley.edu">irina_hallinan@berkeley.edu</a></li>
        <li>Buyi Geng (284) <a href="mailto:uyikatarina@berkeley.edu">uyikatarina@berkeley.edu</a></li>
        <li>Tianyun Yuan (184) <a href="mailto:7ianyun@berkeley.edu">7ianyun@berkeley.edu</a></li>
        <li>Xinyu Deng (184) <a href="mailto:xinyudeng@berkeley.edu">xinyudeng@berkeley.edu</a></li>
    </ul>
    </p>


</div>

<div class="padded">
    <h2 align="middle">Problem Description</h2>

    <p>The idea was to make a 3D animated simulation of a drone flying in a realistic urban setting, such as the city of San Francisco. The simulation loads a realistic 3D scene of an existing place available on Google Earth with obstacles such as buildings and trees. The challenge was to make the drone path realistic: i.e. follow certain rules and constraints in calculating the course while being fast (as it flies). The project explores different algorithms for path planning and compares their tradeoffs. The game engine automatically computes the flight path and displays flight targets on the screen as the drone flies. The program outputs a video taken from the point of view of the drone to show a realistically rendered scene. We can tell the drone where to fly (which points of interest it should fly by) and take a video from a specific point of view.</p>

    <p>Additionally, we implemented animations of the drone flying, turning, etc, and of the rotors on each thruster. Several virtual cameras follow the path of the drone as it flies, including a first-person view from the drone itself.</p>

</div>

<div class="padded">
    <h2 align="middle">Relevant Topics from Graphics</h2>

    <ul>
        <li>Animation: we animated the drone flying through the scene on the path we compute.</li>
        <li>Kinematics: we calculated the path the drone will fly through in 3D such that the targets lie on the path.</li>
        <li>Collision Detection: we calculated a path that avoids collisions with obstacles and the environment such as the drone doesn't crash.</li>
        <li>Meshes: we created 3D world assets like the drone and world scene in Unreal Engine and represent all objects as 3D meshes.</li>
        </li>
    </ul>


</div>

<div class="padded">
    <h2 align="middle">Technical Concepts</h2>
    <ul>
        <li>
            Collision-detection can be implemented in different ways. In class, we used Bounding Volume Hierarchy to efficiently calculate if there’s an intersection between a ray and an object. Here, we used Unreal Engine 5 event detection system to trigger logic whenever a collision occurs.
        </li>
        <li>
            Path tracing can be implemented in different ways. In class, we used Bezier curves and surfaces to find a smooth path through the start and end points by using control points. We can use a more sophisticated technique to find a smooth path through predefined targets in 3D such that the given constraints are met.
        </li>
        <li>
            We learned how to integrate available Google Earth data into a Unreal Engine simulation.
        </li>
    </ul>
</div>

<div class="padded">
    <h2 align="middle">Challenges</h2>

    <p>The most challenging part of this project would be to achieve path planning and animation that is realistic, fast, and accurate. All team members had little experience with animation, so learning the basics of Unreal Engine and animation in the allotted time will be a challenge.</p>

</div>

<div class="padded">
    <h2 align="middle">Goals and Deliverables</h2>

    <p>We created a 3D simulation of a drone flying through a realistic environment. We were be able to set and change parameters of the simulations, such as obstacles to avoid, the speed of the drone, and where the drone should fly by. As a final result, we produced a video in which we show the drone flying along a path as well as colliding with obstacles in the scene. We build our simulation in Unreal Engine 5 in C++ and used Python for path planning algorithms to precompute drone paths.</p>

</div>

<div class="padded">

    <h2 align="middle">Questions Planned to Answer</h2>

    <ol>
        <li>How to use Unreal Engine to make a realistic drone flight simulation (how to integrate Google Earth data into Unreal Engine).</li>
        <li>
            How to animate the drone and its motion in real-time?
        </li>
        <li>
            How to plan a path the drone should take to avoid collisions and stay within the given constraints?
        </li>
    </ol>

    <p>We hope this simulation helps people flying real drones plan a path. Ideally, we would like to compare our simulated fly path to a real drone (if we can get one).</p>

</div>

<div class="padded">
    <h2 align="middle">Primary Goals</h2>

    <p>What we plan to accomplish: a realistic simulation that can inform drone operators on where to fly in a complex environment.</p>

    <ol>
        <li>Create an interactive 3D scene from data in Google Earth in Unreal Engine.</li>
        <li>Create the drone that automatically flies through the targets the user sets and stays within the constraints of the simulation (e.g.  drone doesn't crash).</li>
        <li>Create a virtual camera that follows the drone as it flies to produce a video footage of the 3D scene.</li>
    </ol>

</div>

<div class="padded">
    <h2 align="middle">Additional Goals</h2>

    <p>If we have time, the simulation can be extended to more complex environments, and by adding other realistic simulation effects such as wind, moving cars, drone battery life, etc.</p>

</div>


<div class="padded">
    <h2 align="middle">Resources we used</h2>

    <ul>
        <li>Google Earth data for a specific location (such as San Francisco).</li>
        <li>Unreal Engine to create the simulation.</li>
    </ul>


</div>

<div class="padded">
    <h2 align="middle">Relevant Research</h2>

    <ol>
        <li>Microsoft AirSim built on Unreal Engine simulating drone flight: <a href="https://microsoft.github.io/AirSim/" target="_blank">https://microsoft.github.io/AirSim/</a> and <a href="https://github.com/microsoft/airsim" target="_blank">https://github.com/microsoft/airsim</a></li>
        <li>Collision-avoidance and optimal flight path planning, such as improved Rapid-exploration Random Tree algorithm: <a target="_blank" href="https://www.hindawi.com/journals/ddns/2022/4544499/">https://www.hindawi.com/journals/ddns/2022/4544499/</a></li>
        <li>Survey of collision-detection algorithms: <a href="http://graphics.stanford.edu/courses/cs164-09-spring/Handouts/paper_colldect_survey2.pdf" target="_blank">http://graphics.stanford.edu/courses/cs164-09-spring/Handouts/paper_colldect_survey2.pdf</a></li>
    </ol>

</div>

<div class="padded">
    <h3 align="middle"><a href="https://irina694.github.io/3d-drone-sim/">Final Project</a></h3>
    <h4 align="middle"><a href="https://irina694.github.io/3d-drone-sim/milestone">Milestone</a></h4>
    <h4 align="middle"><a href="https://irina694.github.io/3d-drone-sim/proposal/">Proposal</a></h4>
</div>


</body>
</html>